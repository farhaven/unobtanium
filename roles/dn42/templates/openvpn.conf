{% if item.openvpn.remote is defined %}
remote {{ item.openvpn.remote }}
{% else %}
float
{% endif %}
mode p2p

dev tun{{ item.openvpn.tun }}
persist-tun
{% if item.v6 is defined %}
tun-ipv6
push tun-ipv6
{% endif %}

lport {{ item.openvpn.port }}
{% if item.openvpn.rport is defined %}
rport {{ item.openvpn.rport }}
{% else %}
rport {{ item.openvpn.port }}
{% endif %}

comp-lzo

verb 3

ping 10

{% if item.v4 is defined %}
{% for a in item.v4 %}
ifconfig {{ a.l }} {{ a.r }}
{% endfor %}
{% endif %}
{% if item.v6 is defined %}
{% for a in item.v6 %}
ifconfig-ipv6 {{ a.l }} {{ a.r }}
{% endfor %}
{% endif %}

secret /etc/openvpn/dn42-{{ item.name }}/key
